{"version":3,"sources":["components/Navbar.js","components/Person.js","components/People.js","components/Planet.js","components/Planets.js","App.js","index.js"],"names":["Navbar","setPage","onClick","Person","person","className","name","gender","birth_year","fetchPeople","a","fetch","res","json","People","useQuery","data","status","console","log","results","map","key","Planet","planet","population","terrain","fetchPlanets","page","Planets","useState","usePaginatedQuery","staleTime","onSuccess","resolvedData","latestData","old","Math","max","disabled","next","App","initialIsOpen","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oLAWeA,EATA,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACjB,OACC,6BACG,4BAAQC,QAAS,kBAAMD,EAAQ,aAA/B,WACA,4BAAQC,QAAS,kBAAMD,EAAQ,YAA/B,Y,8BCMUE,EAVA,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAChB,OACE,yBAAKC,UAAU,QACb,4BAAMD,EAAOE,MACb,uCAAcF,EAAOG,QACrB,2CAAkBH,EAAOI,cCHzBC,EAAW,uCAAG,4BAAAC,EAAA,sEACAC,MAAM,iCADN,cACZC,EADY,yBAEXA,EAAIC,QAFO,2CAAH,qDA+BFC,EA1BA,WAAO,IAAD,EACMC,YAAS,SAAUN,GAApCO,EADW,EACXA,KAAMC,EADK,EACLA,OAGd,OAFAC,QAAQC,IAAIH,GAGV,6BACE,sCAGY,YAAXC,GACC,6CAGU,UAAXA,GACC,oDAGU,YAAXA,GACC,6BACID,EAAKI,QAAQC,KAAI,SAAAjB,GAAM,OAAI,kBAAC,EAAD,CAAQkB,IAAKlB,EAAOE,KAAMF,OAAQA,UChB1DmB,EAVA,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAChB,OACE,yBAAKnB,UAAU,QACb,4BAAMmB,EAAOlB,MACb,2CAAkBkB,EAAOC,YACzB,wCAAeD,EAAOE,WCHtBC,EAAY,uCAAG,WAAOL,EAAMM,GAAb,eAAAlB,EAAA,sEACDC,MAAM,uCAAD,OAAwCiB,IAD5C,cACbhB,EADa,yBAEZA,EAAIC,QAFQ,2CAAH,wDAiDHgB,EA5CC,WAAO,IAAD,EACMC,mBAAS,GADf,mBACZF,EADY,KACN3B,EADM,OAMf8B,YAAkB,CAAC,UAAUH,GAAOD,EAAc,CACrDK,UAAW,EAEXC,UAAW,kBAAMf,QAAQC,IAAI,gCAN3Be,EAHgB,EAGhBA,aACAC,EAJgB,EAIhBA,WACAlB,EALgB,EAKhBA,OAOJ,OACE,6BACE,uCAEY,YAAXA,GACC,gDAGU,UAAXA,GACC,oDAGU,YAAXA,GACC,oCACE,4BACEf,QAAS,kBAAMD,GAAQ,SAAAmC,GAAG,OAAIC,KAAKC,IAAIF,EAAI,EAAE,OAC7CG,SAAmB,IAATX,GAFZ,iBAIA,8BAAQA,GACR,4BACE1B,QAAS,kBAAMD,GAAQ,SAAAmC,GAAG,OAAMD,GAAeA,EAAWK,KAAaJ,EAAM,EAAZA,MACjEG,UAAWJ,IAAeA,EAAWK,MAFvC,aAIA,6BACIN,EAAad,QAAQC,KAAI,SAAAG,GAAM,OAAI,kBAAC,EAAD,CAAQF,IAAKE,EAAOlB,KAAMkB,OAAQA,W,OCrBpEiB,MAlBf,WAAgB,IAAD,EACWX,mBAAS,WADpB,mBACLF,EADK,KACA3B,EADA,KAIb,OACE,oCACE,yBAAKI,UAAU,OACb,8CACE,kBAAC,EAAD,CAAQJ,QAASA,IACnB,yBAAKI,UAAU,WACA,YAATuB,EAAqB,kBAAC,EAAD,MAAc,kBAAC,EAAD,QAG3C,kBAAC,qBAAD,CAAoBc,eAAe,MCdzCC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.2163471e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Navbar = ({ setPage }) => {\n\treturn (\n\t\t<nav>\n\t\t   <button onClick={() => setPage('planets')}>Planets</button>\n\t\t   <button onClick={() => setPage('people')}>People</button>\n\t    </nav>\n\t)\n}\n\nexport default Navbar","import React from 'react';\n\nconst Person = ({ person }) => {\n  return (\n    <div className=\"card\">\n      <h3>{ person.name }</h3>\n      <p>Gender - { person.gender }</p>\n      <p>Birth year - { person.birth_year }</p>\n    </div>\n  );\n}\n \nexport default Person","import React from 'react';\nimport { useQuery } from 'react-query';\nimport Person from './Person';\n\nconst fetchPeople = async () => {\n  const res = await fetch('https://swapi.dev/api/people/');\n  return res.json();\n}\n\nconst People = () => {\n  const { data, status } = useQuery('people', fetchPeople);\n  console.log(data);\n\n  return (\n    <div>\n      <h2>People</h2>\n      {/* { status } */}\n\n      {status === 'loading' && (\n        <div>Loading data</div>\n      )}\n\n      {status === 'error' && (\n        <div>Error fetching data</div>\n      )}\n\n      {status === 'success' && (\n        <div>\n          { data.results.map(person => <Person key={person.name} person={person} /> ) }\n        </div>\n      )} \n    </div>\n  );\n}\n \nexport default People;","import React from 'react';\n\nconst Planet = ({ planet }) => {\n  return (\n    <div className=\"card\">\n      <h3>{ planet.name }</h3>\n      <p>Population - { planet.population }</p>\n      <p>Terrain - { planet.terrain }</p>\n    </div>\n  );\n}\n \nexport default Planet;","import React, { useState } from 'react';\nimport { usePaginatedQuery } from 'react-query';\nimport Planet from './Planet';\n\nconst fetchPlanets = async (key,  page) => {\n  const res = await fetch(`https://swapi.dev/api/planets/?page=${page}`);\n  return res.json();\n}\n\nconst Planets = () => {\n  const [ page, setPage ] = useState(1)\n  const {\n      resolvedData, \n      latestData, \n      status \n   } = usePaginatedQuery(['planets',page], fetchPlanets, {\n    staleTime: 0, \n    // cacheTime: 10,\n    onSuccess: () => console.log('data fetched successfully')\n  });\n\n  return (\n    <div>\n      <h2>Planets</h2>\n\n      {status === 'loading' && (\n        <div>Loading data...</div>\n      )}\n\n      {status === 'error' && (\n        <div>Error fetching data</div>\n      )}\n\n      {status === 'success' && (\n        <>\n          <button\n            onClick={() => setPage(old => Math.max(old-1,1))}\n            disabled={page === 1}\n          >Previous page</button>\n          <span>{ page }</span>\n          <button\n            onClick={() => setPage(old => (!latestData || !latestData.next ? old : old + 1))}\n            disabled={!latestData || !latestData.next}\n          >Next page</button>\n          <div>\n            { resolvedData.results.map(planet => <Planet key={planet.name} planet={planet} /> ) }\n          </div>\n        </>\n      )} \n    </div>\n  );\n}\n \nexport default Planets;","import React, {useState} from 'react';\nimport Navbar from './components/Navbar'\nimport People from './components/People'\nimport Planets from './components/Planets'\nimport { ReactQueryDevtools } from 'react-query-devtools' \n\nfunction App() {\n   const [page,setPage] = useState('planets')\n\n\n  return (\n    <>\n      <div className=\"App\">\n        <h1>Star Wars Info</h1>\n          <Navbar setPage={setPage} />\n        <div className=\"content\">\n            { page === 'planets' ? <Planets /> : <People /> }\n        </div>\n      </div>\n      <ReactQueryDevtools initialIsOpen={false} />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}